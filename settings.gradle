/*
 * This settings file was auto generated by the Gradle buildInit task
 * by 'Administrator' at '17-1-3 上午9:15' with Gradle 3.2.1
 *
 * The settings file is used to specify which projects to include in your build.
 * In a single project build this file can be empty or even removed.
 *
 * Detailed information about configuring a multi-project build in Gradle can be found
 * in the user guide at https://docs.gradle.org/3.2.1/userguide/multi_project_builds.html
 */

// As the first statement of the settings.gradle file
// we can define pluginRepositories:
pluginRepositories {
    maven { url 'http://175.6.228.214:8081/nexus/content/repositories/plugins/' }
    gradlePluginPortal() // Include public Gradle plugin portal
}


rootProject.name = 'jeeweb'

// Begin of include
include 'backend'
include 'frontend'
// End of include


settingProjects(rootProject)
//设置工程的构建脚本名称和工程同名
def settingProjects(parentProject) {
    parentProject.children.each { project ->
        if (project.children) {
            settingProjects(project)
        } else {
            String projectRelativePath = project.path.replaceAll(':', '/').substring(1)

            project.name = rootProject.name + '-' + project.path.replaceAll(':', '/').substring(1)
            project.projectDir = new File(settingsDir, "subprojects/${projectRelativePath}")
            //project.buildFileName = "${project.name}.gradle"

            assert project.projectDir.isDirectory()
            assert project.buildFile.isFile()
        }
    }
}