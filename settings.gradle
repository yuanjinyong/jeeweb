/*
 * This settings file was generated by the Gradle 'init' task.
 *
 * The settings file is used to specify which projects to include in your build.
 * In a single project build this file can be empty or even removed.
 *
 * Detailed information about configuring a multi-project build in Gradle can be found
 * in the user guide at https://docs.gradle.org/4.2.1/userguide/multi_project_builds.html
 */

// As the first statement of the settings.gradle file we can define pluginRepositories:
pluginManagement {
  repositories {
      maven { url 'http://121.43.163.28:28080/nexus/content/repositories/plugins/' }
      gradlePluginPortal()
  }
}

// To declare projects as part of a multi-project build use the 'include' method
// Begin of include
include 'backend'
include 'frontend'
// End of include


rootProject.name = 'jeeweb'


settingProjects(rootProject)
//设置工程的构建脚本名称和工程同名
def settingProjects(parentProject) {
    parentProject.children.each { project ->
        String projectRelativePath = project.path.replaceAll(':', '/').substring(1)
        project.projectDir = new File(settingsDir, "subprojects/${projectRelativePath}")
        assert project.projectDir.isDirectory()

        if (project.children) {
            settingProjects(project)
        } else {
            //project.buildFileName = "${project.name}.gradle"
            assert project.buildFile.isFile()
        }
    }
}